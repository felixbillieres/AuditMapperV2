@tailwind base;
@tailwind components;
@tailwind utilities;

/* ==========================================
   THEME SOMBRE PROFESSIONNEL
   ========================================== */

:root {
  /* Couleurs principales - Dark Slate */
  --background: 15 23 42;
  --foreground: 248 250 252;
  
  /* Couleurs d'accent - Bleu professionnel */
  --primary: 59 130 246;
  --primary-foreground: 255 255 255;
  
  /* Couleurs secondaires */
  --secondary: 30 41 59;
  --secondary-foreground: 203 213 225;
  
  /* Couleurs de bordure */
  --border: 51 65 85;
  --input: 51 65 85;
  --ring: 59 130 246;
  
  /* Couleurs de fond */
  --card: 30 41 59;
  --card-foreground: 248 250 252;
  
  /* Couleurs de popover */
  --popover: 30 41 59;
  --popover-foreground: 248 250 252;
  
  /* Couleurs de sélection */
  --selection: 59 130 246;
  --selection-foreground: 255 255 255;
  
  /* Couleurs de muted */
  --muted: 30 41 59;
  --muted-foreground: 148 163 184;
  
  /* Couleurs d'accent */
  --accent: 51 65 85;
  --accent-foreground: 248 250 252;
  
  /* Couleurs destructives */
  --destructive: 239 68 68;
  --destructive-foreground: 255 255 255;
  
  /* Couleurs de succès */
  --success: 34 197 94;
  --success-foreground: 255 255 255;
  
  /* Couleurs d'avertissement */
  --warning: 245 158 11;
  --warning-foreground: 255 255 255;
  
  /* Couleurs d'info */
  --info: 59 130 246;
  --info-foreground: 255 255 255;
  
  /* Couleurs de radius */
  --radius: 0.5rem;
}

/* ==========================================
   RESET ET BASE
   ========================================== */

@layer base {
  * {
    @apply border-slate-700;
    box-sizing: border-box;
  }
  
  html, body {
    @apply bg-slate-900 text-slate-100;
    min-height: 100%;
    height: auto;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    overflow-y: auto;
  }
  
  #root {
    min-height: 100vh;
    width: 100vw;
    overflow: visible;
  }
  
  /* Scrollbar personnalisée */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-slate-800;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-slate-600 rounded;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-500;
  }
}

/* ==========================================
   LAYOUT PRINCIPAL
   ========================================== */

@layer components {
  /* Layout principal */
  .app-layout {
    @apply h-screen w-screen flex flex-col overflow-hidden;
  }
  
  .main-header {
    @apply flex-shrink-0 bg-slate-800 border-b border-slate-700;
    min-height: 120px;
  }
  
  .main-content {
    @apply flex-1 flex overflow-hidden;
  }
  
  .sidebar-left {
    @apply flex-shrink-0 bg-slate-800 border-r border-slate-700 overflow-y-auto;
    width: 320px;
  }
  
  .content-area {
    @apply flex-1 flex flex-col overflow-hidden;
  }
  
  .content-main {
    @apply flex-1 overflow-y-auto;
  }
  

  
  .sidebar-right {
    @apply flex-shrink-0 bg-slate-800 border-l border-slate-700 overflow-y-auto;
    width: 500px;
  }
  
  /* Boutons personnalisés */
  .btn-primary {
    @apply bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors;
  }
  
  .btn-secondary {
    @apply bg-slate-700 hover:bg-slate-600 text-slate-200 font-medium py-2 px-4 rounded-lg transition-colors;
  }
  
  .btn-outline {
    @apply border border-slate-600 hover:bg-slate-800 text-slate-200 font-medium py-2 px-4 rounded-lg transition-colors;
  }
  
  /* Cards personnalisées */
  .card {
    @apply bg-slate-800 border border-slate-700 rounded-lg shadow-lg;
  }
  
  .card-hover {
    @apply hover:shadow-xl hover:border-slate-600 transition-all;
  }
  
  /* Inputs personnalisés */
  .input {
    @apply w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors text-slate-100;
  }
  
  /* Badges personnalisés */
  .badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }
  
  .badge-success {
    @apply bg-green-900/50 text-green-400 border border-green-700;
  }
  
  .badge-warning {
    @apply bg-yellow-900/50 text-yellow-400 border border-yellow-700;
  }
  
  .badge-error {
    @apply bg-red-900/50 text-red-400 border border-red-700;
  }
  
  .badge-info {
    @apply bg-blue-900/50 text-blue-400 border border-blue-700;
  }
  
  /* Animations personnalisées */
  .fade-in {
    @apply animate-in fade-in duration-300;
  }
  
  .slide-in {
    @apply animate-in slide-in-from-right duration-300;
  }
  
  .scale-in {
    @apply animate-in zoom-in duration-200;
  }
  
  /* Stats cards */
  .stats-grid {
    @apply grid grid-cols-6 gap-4;
  }
  
  .stats-card {
    @apply bg-slate-700 border-slate-600 rounded-lg p-4;
  }
  
  /* Host cards */
  .host-grid {
    /* Utiliser un layout responsive basé sur l'espace disponible du conteneur,
       pour éviter les cartes trop étroites quand la sidebar est étendue. */
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 1rem; /* ~gap-4 */
    padding: 1.5rem; /* ~p-6 */
  }
  
  .host-card {
    @apply bg-slate-800 border-slate-700 hover:border-slate-600 transition-colors cursor-pointer rounded-lg p-4;
  }
  
  /* Network visualization */
  .network-container {
    @apply h-full w-full relative overflow-hidden;
  }
  
  /* Charts section */
  .charts-grid {
    @apply grid grid-cols-3 gap-6 h-full p-6;
  }
  
  .chart-card {
    @apply bg-slate-700 border-slate-600 rounded-lg;
  }
}

@layer utilities {
  /* Utilitaires personnalisés */
  .text-balance {
    text-wrap: balance;
  }
  
  .gradient-text {
    @apply bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent;
  }
  
  .glass {
    @apply bg-slate-800/80 backdrop-blur-sm border border-slate-700/50;
  }
  
  .shadow-soft {
    box-shadow: 0 2px 15px -3px rgba(0, 0, 0, 0.3), 0 10px 20px -2px rgba(0, 0, 0, 0.2);
  }
  
  /* Flexbox utilities */
  .flex-center {
    @apply flex items-center justify-center;
  }
  
  .flex-between {
    @apply flex items-center justify-between;
  }
  
  /* Spacing utilities */
  .space-y-6 > * + * {
    @apply mt-6;
  }
  
  .space-x-4 > * + * {
    @apply ml-4;
  }
}

/* ==========================================
   ANIMATIONS PERSONNALISÉES
   ========================================== */

@keyframes pulse-soft {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

.animate-pulse-soft {
  animation: pulse-soft 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes slide-up {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out;
}

/* ==========================================
   RESPONSIVE DESIGN
   ========================================== */

@media (max-width: 768px) {
  .mobile-hidden {
    @apply hidden;
  }
  
  .mobile-full {
    @apply w-full;
  }
  
  .sidebar-left {
    width: 280px;
  }
  
  .sidebar-right {
    width: 100%;
  }
  
  .stats-grid {
    @apply grid-cols-3 gap-2;
  }
  
  .charts-grid {
    @apply grid-cols-1 gap-4;
  }
}

@media (min-width: 769px) {
  .desktop-hidden {
    @apply hidden;
  }
}

/* ==========================================
   ACCESSIBILITÉ
   ========================================== */

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Focus visible pour l'accessibilité */
.focus-visible:focus {
  @apply outline-none ring-2 ring-blue-500 ring-offset-2 ring-offset-slate-900;
}

/* ==========================================
   PRINT STYLES
   ========================================== */

@media print {
  .no-print {
    display: none !important;
  }
  
  .print-break {
    page-break-before: always;
  }
}

/* Thème pro pour l'aperçu de rapport */
.report-pro {
  --report-accent: #2563eb;
  --report-font-scale: 1;
  max-width: 800px;
  margin: 0 auto;
  background: #0b1220;
  color: #e6edf3;
  padding: 2rem 2.5rem;
  border: 1px solid #1f2a44;
  border-radius: 12px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.35);
  font-size: calc(1rem * var(--report-font-scale));
}
.report-pro h1, .report-pro h2, .report-pro h3, .report-pro h4 {
  color: #ffffff;
  line-height: 1.25;
  margin-top: 1.4rem;
  margin-bottom: 0.6rem;
}
.report-pro h1 { font-size: 2rem; border-bottom: 1px solid #23314f; padding-bottom: 0.5rem; }
.report-pro h2 { font-size: 1.6rem; border-left: 3px solid var(--report-accent); padding-left: 0.5rem; }
.report-pro h3 { font-size: 1.25rem; color: #cbd5e1; }
.report-pro p { color: #cbd5e1; margin: 0.5rem 0; }
.report-pro ul { padding-left: 1.25rem; }
.report-pro li { margin: 0.25rem 0; }
.report-pro code { background: #0a0f1a; padding: 0.15rem 0.35rem; border: 1px solid #1f2a44; border-radius: 6px; }
.report-pro pre { background: #0a0f1a; border: 1px solid #1f2a44; border-radius: 10px; padding: 1rem; overflow-x: auto; }
.report-pro a { color: #60a5fa; text-decoration: none; }
.report-pro table { width: 100%; border-collapse: collapse; border: 1px solid #1f2a44; }
.report-pro th, .report-pro td { border: 1px solid #1f2a44; padding: 0.5rem 0.6rem; }
.report-pro blockquote { border-left: 4px solid #334155; padding-left: 0.75rem; color: #94a3b8; }

/* Style spécial impression pour html2pdf */
.report-print {
  background: #ffffff !important;
  color: #0f172a !important;
  max-width: 800px !important;
  padding: 0 !important;
  margin: 0 auto !important;
  box-shadow: none !important;
  border: none !important;
}
.report-print h1, .report-print h2, .report-print h3, .report-print h4 { color: #0f172a !important; }
.report-print code, .report-print pre { border-color: #e2e8f0 !important; background: #f8fafc !important; }

@media print {
  html, body { background: #ffffff !important; }
  .report-pro { max-width: 800px; background: #ffffff; color: #0f172a; }
}

/* Layout spécifique à la page rapport */
.report-layout .sidebar-left { width: 420px; }
.report-layout .content-main { display: flex; justify-content: center; }
.report-layout .content-main > * { width: 100%; }
.report-layout .content-main .card { max-width: 980px; margin-left: auto; margin-right: auto; }
